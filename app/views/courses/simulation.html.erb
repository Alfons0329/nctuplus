

<ul class="nav nav-tabs" id="sem_selector">
	<li class="sem_tab active" id="sem_<%=latest_semester.id%>"><a href="javascript:void(0);" onclick="change_sem(<%=latest_semester.id%>);"><%=latest_semester.name%></a></li>
	
	<% Semester.where(:id=>@user_sem_ids).reverse.each do |s| %>
		<% next if s==latest_semester %>
		<li id="sem_<%=s.id%>"  class="sem_tab"><a href="javascript:void(0);" onclick="change_sem(<%=s.id%>);"><%=s.name%></a></li>
	<% end %>
	<li class="" id="add_sem"><a href="javascript:void(0);" onclick="show_add_form()">新增學期</a></li>
	<li class="" id="statics"><a href="javascript:void(0);" onclick="">統計</a></li>
</ul>
<div id="srch_and_schd">
</div>
<br>

<script>
function add_semester(){
	$("#sem_selector .active").removeClass("active");
	var select =$("#sem_id");
	$("#add_sem_form").hide(); 
	$("#sem_selector .sem_tab:last").after('<li class="sem_tab" id="sem_'+select.val()+'"><a href="javascript:void(0);" onclick="change_sem('+select.val()+')">'+select.find('option:selected').text()+'</a></li>');
	
	change_sem(select.val());
}

$(document).ready(function(){
	$("#add_sem_form").hide();
	$("#srch_and_schd").load("/courses/get_user_simulated?sem_id=<%=latest_semester.id%>");
});

function change_sem(id){
	//alert("!!!");
	$("#srch_and_schd").load("/courses/get_user_simulated?sem_id="+id);
	$("#sem_selector .active").removeClass("active");
	$("#sem_"+id).addClass("active");
	$("#add_sem_form").hide();
}
function show_add_form(){
	//$("#add_sem_form").removeClass("hidden");
	$("#add_sem_form").show();
	
	$("#sem_selector .active").removeClass("active");
	$("#add_sem").addClass("active");
	
	$("#srch_and_schd").load("/courses/get_sem_form");
	
}
</script>